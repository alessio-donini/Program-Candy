@page
@model CarrelloModel
@{
    ViewData["Title"] = "Carrello";
}
<div class="text-center">
    <div class="row carrello-list">
        <div class="col-9">
            @*@for(int i = 0; i < @Startup.carrello.Count; i++)*@
            @for (int i = 0; i < 2; i++)
            {
                string margin = null;
                if (i != 0)
                {
                    margin = "row-below-first";
                }
                <div class="row @margin">
                    <div class="col-10 offset-1">
                        <div class="row list-item">
                            <div class="col-3">
                                <img class="img-fluid img-cart-prod"
                                src="~/images/@Program.p.FormatCandy(Startup.carrello[i].nome)" />
                            </div>
                            <div class="col-2">
                                <h3 class="nome-prod-list">@Startup.carrello[i].nome</h3>
                            </div>
                            <iframe name="prova" style="display: none;"></iframe>
                            <div class="col-7">
                                <form asp-page="/Carrello" method="post" target="prova">
                                    <div class="row">
                                        <div class="col-3 btn-quantita">
                                            <button class="btn btn-primary btn-meno btn-prodotto" type="button"
                                            onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                                                <img class="img-fluid" src="~/images/meno.png" />
                                            </button>
                                            <input class="quantity" min="0" max="@Program.products[i].quantita"
                                            name="quantProd" value="@Startup.carrello[i].quantita" type="number">
                                            <button class="btn btn-primary btn-piu btn-prodotto" type="button"
                                            onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
                                                <img class="img-fluid" src="~/images/piu.png" />
                                            </button>
                                            <input type="hidden" name="nomeProd" value="@Startup.carrello[i].nome" />
                                            <input type="hidden" name="prezProd" value="@Startup.carrello[i].prezzo" />
                                        </div>
                                        <div class=" d-flex col-4 justify-content-end">
                                            <button class="btn btn-primary btn-compra btn-list-carrello shadow-none"
                                            type="submit" name="btn" value="compra">Compra</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
        <div class="col-3">
            <div class="col-11 item-carrello">
                <p>Carrello item</p>
            </div>
        </div>
    </div>
</div>